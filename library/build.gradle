apply plugin: 'com.android.library'
apply plugin: "com.vanniktech.maven.publish"

buildscript {
  repositories {
    mavenCentral()
    google()
    gradlePluginPortal()
  }
  dependencies {
    classpath 'com.vanniktech:gradle-maven-publish-plugin:0.8.0'
  }
}

group = GROUP
version = VERSION_NAME


android {
  compileSdkVersion 27
  buildToolsVersion '27.0.3'

  defaultConfig {
    minSdkVersion 21
    targetSdkVersion 27


    testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
  }
  buildTypes {
    release {
      minifyEnabled false
      proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
    }
  }
}

dependencies {
  implementation 'com.davemorrissey.labs:subsampling-scale-image-view:3.9.0'
}

repositories {
  mavenCentral()
  jcenter()
  google()
}

mavenPublish {
  targets {
    uploadArchives {
      signing = false
      releaseRepositoryUrl = "https://bintray.com/api/v1/maven/n42/maven/pdfview/;publish=1"

      Properties properties = new Properties()
      properties.load(project.rootProject.file('local.properties').newDataInputStream())

      repositoryUsername = properties.getProperty("bintray.user")
      repositoryPassword = properties.getProperty("bintray.apikey")
    }
  }
}